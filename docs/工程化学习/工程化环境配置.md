# 工程化环境配置

## 1. JDK环境搭建

> 1.  下载jdk1.8 下载方式有两种
>
>    1. openjdk1.8下载地址:  http://jdk.java.net/java-se-ri/8 
>    2. jdk官方下载地址: https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html 
>       1. 下载 [jdk-8u231-linux-x64.tar.gz](https://download.oracle.com/otn/java/jdk/8u231-b11/5b13a193868b4bf28bcb45c792fce896/jdk-8u231-linux-x64.tar.gz) 文件或者 [jdk-8u231-linux-x64.rpm](https://download.oracle.com/otn/java/jdk/8u231-b11/5b13a193868b4bf28bcb45c792fce896/jdk-8u231-linux-x64.rpm) 文件
>    3. 通过ftp工具上传到linux服务器中 
>
> 2. jdk安装
>
>    1.  openjdk安装：
>
>       > 直接执行命令进行自动安装: `yum -y  install java-1.8.0-openjdk*` 
>    >
>       > 卸载yum安装: `yum -y  remove java-1.8.0-openjdk*` 
>    >
>       > 显示已安装的软件包: `yum list installed`
>    >
>       > 查看可以暗转的软件包: `yum list  java-1.8.0-openjdk`
>    >
>       > 列出软件包的依赖:  `yum deplist java-1.8.0-openjdk`
>    >
>       > 显示软件包的描述信息和概要信息： `yum info  java-1.8.0-openjdk`
>    >
>       > 升级软件包:  `yum update java-1.8.0-openjdk`
>    >
>       > 检查可更新的程序:  `yum check-update `
>    >
>       > ##### `注意：以上命令均以jdk为例实用所有软件包！`
>
>    2. jdk压缩包 [jdk-8u231-linux-x64.tar.gz](https://download.oracle.com/otn/java/jdk/8u231-b11/5b13a193868b4bf28bcb45c792fce896/jdk-8u231-linux-x64.tar.gz) 安装
>
>       > 1. 在 usr路径下新建java文件夹
>    >
>       >    > `mkdir java`
>    >
>       > 2.  将 [jdk-8u231-linux-x64.tar.gz](https://download.oracle.com/otn/java/jdk/8u231-b11/5b13a193868b4bf28bcb45c792fce896/jdk-8u231-linux-x64.tar.gz)  文件 上传到刚刚新建的java文件目录下，如果已经将文件上传到服务器中，则将已上传的文件拷贝到该目录中
>    >
>       >    > ​	`mv   /root/tools/jdk-8u231-linux-x64.tar.gz  /usr/java/jdk-8u231-linux-x64.tar.gz`
>       >    >
>       >    > 或者直接执行解压缩usr/java文件夹中
>       >    >
>       >    > ​	`tar -zxvf  /root/tools/jdk-8u231-linux-x64.tar.gz  /usr/java/`
>
>    3. jdk rpm文件安装
>
>       > 1. 直接执行命令进行安装
>    >
>       >    > ` sudo rpm -ivh jdk-8u171-linux-x64.rpm `
>
> 3. 配置jdk环境变量
>
>    > 1. 编辑配置文件
>    >
>    >    > 虚拟机: `vim /etc/profile` 
>    >    >
>    >    > 如果执行vim命令插件没有安装，则执行以下命令进行安装vim插件
>    >    >
>    >    >  `yum -y install vim ` :安装vim命令插件
>    >
>    > 2. 配置环境变量
>    >
>    >    >   `i`：编辑
>    >    >
>    >    > 添加如下内容：JAVA_HOME根据实际目录来
>    >    >
>    >    > ```shell
>    >    > 		export JAVA_HOME=/usr/java/jdk1.8.0_171-amd64
>    >    > export CLASSPATH=$JAVA_HOME/lib/
>    >    > export PATH=$PATH:$JAVA_HOME/bin
>    >    > export PATH JAVA_HOME CLASSPATH
>    >    > ```
>    >    >
>    >    > >  编辑完成，根据实际情况执行以下命令：
>    >    > >
>    >    > >  `Esc`+ `:wq!`+`Enter` :保存退出vi(vim)
>    >    > >
>    >    > >  `Esc`+` :q` :退出vi(vim)
>    >    > >
>    >    > > `Esc`+`:w` :保存vi(vim)
>    >    > >
>    >    > >  `Esc`+` :q!` :不保存文件并退出vi(vim)
>    >
>    > 3. 阿里云服务器配置openjdk1.8环境变量
>    >
>    >    > 编辑 :` vim ~/.bash_profile ` 
>    >    >
>    >    > `i`：编辑
>    >    >
>    >    > 添加如下内容：JRE_HOME根据实际目录来
>    >    >
>    >    > ```shell
>    >    > PATH=$PATH:$HOME/bin
>    >    > JRE_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.232.b09-0.el7_7.x86_64/jre
>    >    > export CLASSPATH=.:$JRE_HOME/lib
>    >    > export PATH=.:$JRE_HOME/lib/bin:$PATH
>    >    > #export PATH
>    >    > ```
>    >    >
>    >    > >  编辑完成，根据实际情况执行以下命令：
>    >    > >
>    >    > >  `Esc`+ `:wq!`+`Enter` :保存退出vi(vim)
>    >    > >
>    >    > >  `Esc`+` :q` :退出vi(vim)
>    >    > >
>    >    > >  `Esc`+`:w` :保存vi(vim)
>    >    > >
>    >    > >  `Esc`+` :q!` :不保存文件并退出vi(vim)
>    >
>    > 4. 重启服务器或者执行以下命令：
>    >
>    >    > `source /etc/profile` : 使`/etc/profile`配置文件立即生效  
>    >    >
>    >    > `sudo shutdown -r now` ：重启服务器
>    >
>    > 5. 执行 `java -version` 查询安装jdk版本
>    >
>    > 
>    >
>    >    > 出现以下命令则证明安装成功
>    >    >
>    >    > ~~~shll
>    >    > java version "1.8.0_171"
>    >    > Java(TM) SE Runtime Environment (build 1.8.0_171-b11)
>    >    > Java HotSpot(TM) 64-Bit Server VM (build 25.171-b11, mixed mode)
>    >    > ~~~
>    >    >
>    >    > 注意：可能出现以下错误信息
>    >    >
>    >    > ~~~shll
>    >    > bash: ./java: cannot execute binary file
>    >    > ~~~
>    >    >
>    >    > 出现这个错误的原因可能是在32位的操作系统上安装了64位的jdk，
>    >    > 查看jdk版本和Linux版本位数是否一致。
>    >    > 执行以下命令可以查看安装的centos是32位还是64位系统：
>    >    >
>    >    > `sudo uname --m` ：查看安装服务器版本
>    >    >
>    >    > ```shell
>    >    > i686 //表示是32位
>    >    > x86_64 // 表示是64位
>    >    > ```

## 2. Tomcat 安装

> 1. 下载tomcat8安装包
>
>    > tomcat官方下载地址：  https://tomcat.apache.org/download-80.cgi 
>    >
>    > 下载完成后通过ftp工具上传到linux服务器中
>
> 2. tomcat8安装
>
>    > 进入到tomcat文件所存放的目录执行以下命令进行解压缩
>    >
>    > > `tar -zxvf apache-tomcat-8.5.47.tar.gz` : 解压缩
>
> 3. 进入到tomcat的bin目录下
>
>    > `./startup.sh` :启动tomcat
>    >
>    > `./shutdown.sh` :停止tomcat
>    >
>    > ​	出现以下命令则启动成功
>    >
>    > ~~~shell
>    > Using CATALINA_BASE:   /root/tools/apache-tomcat-8.5.47
>    > Using CATALINA_HOME:   /root/tools/apache-tomcat-8.5.47
>    > Using CATALINA_TMPDIR: /root/tools/apache-tomcat-8.5.47/temp
>    > Using JRE_HOME:        /usr/java/jdk1.8.0_171-amd64
>    > Using CLASSPATH:       /root/tools/apache-tomcat-8.5.47/bin/bootstrap.jar:/root/tools/apache-tomcat-8.5.47/bin/tomcat-juli.jar
>    > Tomcat started.
>    > ~~~
>    >
>    > `ps -ef|grep tomcat ` : 查看tomcat进程
>    >
>    > ~~~shell
>    > root      12140      1 60 23:08 pts/0    00:00:03 /usr/java/jdk1.8.0_171-amd64/bin/java -Djava.util.logging.config.file=/root/tools/apache-tomcat-8.5.47/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Dignore.endorsed.dirs= -classpath /root/tools/apache-tomcat-8.5.47/bin/bootstrap.jar:/root/tools/apache-tomcat-8.5.47/bin/tomcat-juli.jar -Dcatalina.base=/root/tools/apache-tomcat-8.5.47 -Dcatalina.home=/root/tools/apache-tomcat-8.5.47 -Djava.io.tmpdir=/root/tools/apache-tomcat-8.5.47/temp org.apache.catalina.startup.Bootstrap start
>    > root      12193   1700  0 23:08 pts/0    00:00:00 grep --color=auto tomcat
>    > ~~~
>    >
>    > `kill -9 进程号` :强制关闭进程
>
> 4. 通过浏览器进行访问`http://ip:port` 看是否可以访问
>
> 5. 访问失败检查是否是防火墙拦截
>
>    > `service iptablse status` :查看防火墙状态
>    >
>    > `service iptablse stop` :关闭防火墙
>    >
>    > ` service iptables start ` : 开启防火墙
>    >
>    > `service iptables restart` : 重启防火墙
>    >
>    > 如果service-iptables命令插件没有安装则先执行
>    >
>    > `yum -y install iptables-services` : 安装iptables-services命令插件
>    >
>    > 如果还是访问不通配置防火墙
>    >
>    > > 1. 修改/etc/sysconfig/iptables 这个文件，增加一个8080端口 
>    > >
>    > > `vim /etc/sysconfig/iptables` :修改iptables文件
>    > >
>    > > `i`：编辑
>    > >
>    > > 增加以下配置信息
>    > >
>    > > ~~~shell
>    > > -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 8080 -j ACCEPT
>    > > ~~~
>    > >
>    > > `Esc`+`:wq!` 保存退出
>    > >
>    > > 2. 重启防火墙 
>    > >
>    > > `service iptables restart` : 重启防火墙
>    > >
>    > > 3. 重新访问测试是否成功
>
> 6. 出现以下页面代表访问成功
>
>    ![image-20191113232804211](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191113232804211.png)
>
> 7.  tomcat 启动方式：
>
>    > `./startup.sh -nohup` 或者 `nohup.out ./startup.sh &`  :后台运行(作为服务启动)
>    >
>    > `./startup.sh` : 直接启动 
>    >
>    > ` ./catalina.sh run ` : 控制台动态输出方式启动 
>    >
>    > 解释：
>    >
>    > ~~~txt
>    > 	通过方式一、方式三启动的tomcat有个弊端，当客户端连接断开的时候，tomcat服务也会立即停止；通过方式二可以作为linux服务一直运行。
>    > 
>    > 通过方式一、方式二方式启动的tomcat，其日志会写到相应的日志文件中，而不能动态地查看tomcat控制台的输出信息与错误情况；
>    > 
>    > 通过方式三可以以控制台模式启动tomcat服务，直接看到程序运行时后台的控制台输出信息，不必每次都要很麻烦的打开catalina.out日志文件进行查看，这样便于跟踪查阅后台输出信息。tomcat控制台信息包括log4j和System.out.println()等输出的信息。	
>    > ~~~

## 3. Oracle11g安装

#### 一、检查硬件要求

> * 内存要求：
>
> 要求：内存最小1G，推荐2G或者更高。
>
>  ```shell
> #查看命令,下列是我的内存
> [root@yangzk-01 ~]# grep MemTotal /proc/meminfo
> MemTotal:        1874276 kB
>  ```
>
>  PS：还有其他硬件要求可以直接去官网([传送门](https://docs.oracle.com/cd/E11882_01/install.112/e47689/pre_install.htm#LADBI1098))查看，这里不再叙述。
>
> * 安装包：
>   *  [linux.x64_11gR2_database_1of2.zip](https://www.oracle.com/database/technologies/112010-linx8664soft.html#license-lightbox) 
>   *  [linux.x64_11gR2_database_2of2.zip](https://www.oracle.com/database/technologies/112010-linx8664soft.html#license-lightbox) 



#### 二、环境准备

> *  **安装必要的工具**
>
> ```shell
> #wget：下载工具；zip：打包工具；unzip：解压工具
> [root@yangzk-01 ~]# yum -y install wget zip unzip
> ```
> 
>  PS：如果已经有了就不需重复安装 
> 
> * **关闭防火墙**
> 
>   `systemctl status firewalld` : 查看防火墙状态
> 
>      `systemctl stop firewalld` : 关闭防火墙
> 
>  `systemctl disable firewalld` : 禁用防火墙
> 
>   `systemctl status firewalld` : 确认防火墙状态
> 
>   `vim /etc/sysconfig/iptables` : 编辑防火墙 
> 
>   ```shell
>   #修改防火墙配置 增加防火墙端口1521
>  [root@yangzk-01 ~]# vim /etc/sysconfig/iptables 
>   -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 1521 -j ACCEPT
>   ```
> 
>   PS:  不关闭防火墙,远程连接会提示连接超时,也可以通过开放对应端口,这里我开放防火墙对应端口
> 
> *  **关闭Selinux** 
> 
>   ```shell
>   [root@yangzk-01 ~]# sed -i "s/SELINUX=enforcing/SELINUX=disabled/" /etc/selinux/config
>   [root@yangzk-01 ~]# setenforce 0
>   #查看Selinux状态
>   [root@yangzk-01 ~]# /usr/sbin/sestatus -v
>   ```
> 
> *  **安装Oracle依赖包** 
> 
>   ```shell
>   #通过安装Oracle YUM 源来安装所依赖的包
>   [root@yangzk-01 ~]# cd /etc/yum.repos.d 
>   [root@yangzk-01 yum.repos.d]# wget http://public-yum.oracle.com/public-yum-ol7.repo
>   #导入RPM-GPG-KEY-oracle
>   [root@yangzk-01 yum.repos.d]# wget http://public-yum.oracle.com/RPM-GPG-KEY-oracle-ol7 -O /etc/pki/rpm-gpg/RPM-GPG-KEY-oracle
>   #安装oracle-rdbms-server-11gR2-preinstall快速配置Oracle安装环境
>   [root@yangzk-01 yum.repos.d]# yum install oracle-rdbms-server-11gR2-preinstall -y
>   #安装完后查看后台日志内容
>  [root@yangzk-01 yum.repos.d]# more /var/log/oracle-rdbms-server-11gR2-preinstall/results/orakernel.log
>   ```
>
>      PS：oracle-rdbms-server-11gR2-preinstall包所干的事情如下：
>
>   	1. 自动安装oracle所需的RPM包
>   	      	2. 自动创建oracle用户和group组
>   	   	3. 自动配置/etc/sysctl.conf内核参数
>   	           	4. 自动配置/etc/security/limits.conf参数

#### 三、开始安装

> *  **创建安装目录** 
>
>   ```shell
>   #创建安装的目录
>   [root@yangzk-01 ~]# mkdir -p /u01/oracle/product/11.2.0/db_1
>   #更改oracle目录的属主
>   [root@yangzk-01 ~]# chown oracle:oinstall -R /u01
>   #更改oracle目录的权限
>   [root@yangzk-01 ~]# chmod 755  -R /u01/oracle
>   ```
>
> *  **配置oracle用户环境变量** 
>
>   ```shell
>   #切换到oracle用户环境
>   [root@yangzk-01 ~]# su - oracle
>   #编辑bash_profile文件，追加下列内容
>   [oracle@yangzk-01 ~]$ vim .bash_profile
>   export TMP=/tmp     #安装oracle软件过程中使用的临时文件目录
>   export TMPDIR=$TMP    #安装oracle软件过程中使用的临时文件目录
>   export ORACLE_BASE=/u01/oracle   #Oracle的BASE目录，所有关于Oracle的文件全部存放在这个目录中
>   export ORACLE_HOME=/u01/oracle/product/11.2.0/db_1  #安装Oracle软件存放的目录
>   export ORACLE_SID=orcl   #将要创建的数据库实例的名字
>   export ORACLE_TERM=xterm  #安装的时候指定终端的定义资源文件xterm表示窗口方式，rt100表示终端调试模式
>   export PATH=/usr/sbin:$PATH   
>   export PATH=$ORACLE_HOME/bin:$PATH   #SHELL可执行文件的搜索路径
>   export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib   #库文件的搜索路径
>   export CLASSPATH=$ORACLE_HOME/jre:$ORACLE_HOME/jlib:$ORACLE_HOME/rdbms/jlib #java的class文件执行搜索的bin路径
>   export EDITOR=vim   #在oracle操作环境下嵌入使用的文本编辑工具
>   export NLS_LANG=AMERICAN_AMERICA.UTF8   #oracle用户这个客户端所识别的字符集
>   export NLS_DATE_FORMAT='YYYY-MM-DD HH24:MI:SS' #oracle用户这个客户端所识别的时间显式格式
>   #使环境变量生效
>   [oracle@yangzk-01 ~]$ source .bash_profile
>   ```
>
> *  **解压oracle安装包** 
>
>   * 通过xftp工具将安装包上传到/u01目录下
>
>   * xshell命令切换到/u01目录下
>
>     ```shell
>     [oracle@yangzk-01 ~]$ cd /u01
>     [oracle@yangzk-01 u01]$ ls
>     linux.x64_11gR2_database_1of2.zip  linux.x64_11gR2_database_2of2.zip  oracle
>     
>     #解压安装包
>     [oracle@yangzk-01 u01]$ unzip linux.x64_11gR2_database_1of2.zip
>     [oracle@yangzk-01 u01]$ unzip linux.x64_11gR2_database_2of2.zip
>     
>     #多了database文件夹
>     [oracle@yangzk-01 u01]$ ls
>     database  linux.x64_11gR2_database_1of2.zip  linux.x64_11gR2_database_2of2.zip  oracle
>     [oracle@yangzk-01 u01]# ls -lrt
>     总用量 2295592
>     drwxr-xr-x. 8 oracle oinstall        128 8月  21 2009 database
>     -rw-r--r--. 1 root   root     1111416131 11月 16 21:09 linux.x64_11gR2_database_2of2.zip
>     -rw-r--r--. 1 root   root     1239269270 11月 16 21:09 linux.x64_11gR2_database_1of2.zip
>     drwxr-xr-x. 5 oracle oinstall         60 11月 16 21:32 oracle
>     #Oracle静默安装需要用到的应答文件
>     [oracle@yangzk-01 response]$ cd /u01/database/response
>     [oracle@yangzk-01 response]$ ll
>     总用量 76
>     -rw-rw-r--. 1 oracle oinstall 44969 2月  14 2009 dbca.rsp#创建数据库应答
>     -rw-rw-r--. 1 oracle oinstall 23205 11月 16 21:28 db_install.rsp#安装应答
>     -rwxrwxr-x. 1 oracle oinstall  5740 2月  26 2009 netca.rsp#建立监听、本地服务名等网络设置的应答
>     ```
>
> *  **配置应答文件** 
>
>   ```shell
>   #修改安装应答
>   [oracle@yangzk-01 response]$ vim db_install.rsp
>   [oracle@yangzk-01 response]# cat db_install.rsp | grep -v "#"|grep -v "^$"
>   oracle.install.responseFileVersion=/oracle/install/rspfmt_dbinstall_response_schema_v11_2_0
>   oracle.install.option=INSTALL_DB_SWONLY
>   ORACLE_HOSTNAME=yangzk-01#(不知道的可以通过hostname命令查询)
>   UNIX_GROUP_NAME=oinstall
>   INVENTORY_LOCATION=/u01/oracle/oraInventory
>   SELECTED_LANGUAGES=en,zh_CN
>   ORACLE_HOME=/u01/oracle/product/11.2.0/db_1
>   ORACLE_BASE=/u01/oracle
>   oracle.install.db.InstallEdition=EE
>   oracle.install.db.isCustomInstall=false
>   oracle.install.db.customComponents=oracle.server:11.2.0.1.0,oracle.sysman.ccr:10.2.7.0.0,oracle.xdk:11.2.0.1.0,oracle.rdbms.oci:11.2.0.1.0,oracle.network:11.2.0.1.0,oracle.network.listener:11.2.0.1.0,oracle.rdbms:11.2.0.1.0,oracle.options:11.2.0.1.0,oracle.rdbms.partitioning:11.2.0.1.0,oracle.oraolap:11.2.0.1.0,oracle.rdbms.dm:11.2.0.1.0,oracle.rdbms.dv:11.2.0.1.0,orcle.rdbms.lbac:11.2.0.1.0,oracle.rdbms.rat:11.2.0.1.0
>   oracle.install.db.DBA_GROUP=dba
>   oracle.install.db.OPER_GROUP=oinstall
>   oracle.install.db.CLUSTER_NODES=
>   oracle.install.db.config.starterdb.type=GENERAL_PURPOSE
>   oracle.install.db.config.starterdb.globalDBName=ora11g
>   oracle.install.db.config.starterdb.SID=ORCL
>   oracle.install.db.config.starterdb.characterSet=AL32UTF8
>   oracle.install.db.config.starterdb.memoryOption=true
>   oracle.install.db.config.starterdb.memoryLimit=512
>   oracle.install.db.config.starterdb.installExampleSchemas=false
>   oracle.install.db.config.starterdb.enableSecuritySettings=true
>   oracle.install.db.config.starterdb.password.ALL=oracle
>   oracle.install.db.config.starterdb.password.SYS=
>   oracle.install.db.config.starterdb.password.SYSTEM=
>   oracle.install.db.config.starterdb.password.SYSMAN=
>   oracle.install.db.config.starterdb.password.DBSNMP=
>   oracle.install.db.config.starterdb.control=DB_CONTROL
>   oracle.install.db.config.starterdb.gridcontrol.gridControlServiceURL=
>   oracle.install.db.config.starterdb.dbcontrol.enableEmailNotification=false
>   oracle.install.db.config.starterdb.dbcontrol.emailAddress=
>   oracle.install.db.config.starterdb.dbcontrol.SMTPServer=
>   oracle.install.db.config.starterdb.automatedBackup.enable=false
>   oracle.install.db.config.starterdb.automatedBackup.osuid=
>   oracle.install.db.config.starterdb.automatedBackup.ospwd=
>   oracle.install.db.config.starterdb.storageType=FILE_SYSTEM_STORAGE
>   oracle.install.db.config.starterdb.fileSystemStorage.dataLocation=
>   oracle.install.db.config.starterdb.fileSystemStorage.recoveryLocation=
>   oracle.install.db.config.asm.diskGroup=
>   oracle.install.db.config.asm.ASMSNMPPassword=
>   MYORACLESUPPORT_USERNAME=
>   MYORACLESUPPORT_PASSWORD=
>   SECURITY_UPDATES_VIA_MYORACLESUPPORT=
>   DECLINE_SECURITY_UPDATES=true
>   PROXY_HOST=
>   PROXY_PORT=
>   PROXY_USER=
>   PROXY_PWD=
>   ```
>
> *  **安装数据库软件** 
>
>   ```shell
>   #进行安装
>   [oracle@yangzk-01 database]$ /u01/database/runInstaller -silent -force -ignorePrereq -responseFile  /u01/database/response/db_install.rsp
>   正在启动 Oracle Universal Installer...
>   
>   检查临时空间: 必须大于 120 MB。   实际为 11292 MB    通过
>   检查交换空间: 必须大于 150 MB。   实际为 2047 MB    通过
>   准备从以下地址启动 Oracle Universal Installer /tmp/OraInstall2019-03-04_03-38-54PM. 请稍候...[oracle@node1 database]$ [WARNING] [INS-32055] 主产品清单位于 Oracle 基目录中。
>      原因: 主产品清单位于 Oracle 基目录中。
>      操作: Oracle 建议将此主产品清单放置在 Oracle 基目录之外的位置中。
>   [WARNING] [INS-32055] 主产品清单位于 Oracle 基目录中。
>      原因: 主产品清单位于 Oracle 基目录中。
>      操作: Oracle 建议将此主产品清单放置在 Oracle 基目录之外的位置中。
>   可以在以下位置找到本次安装会话的日志:
>    /u01/oracle/oraInventory/logs/installActions2019-03-04_03-38-54PM.log
>    
>   #ctrl+c退出
>   #跟踪安装进度
>   [oracle@node1 database]$ cd /u01/oracle/oraInventory/logs/
>   [oracle@node1 logs]$ tail -f installActions*log
>   ....
>   #等待三四分钟，会跳出下列内容,表示安装成功
>   信息: Validating state <finish>
>   警告: Validation disabled for the state finish
>   信息: Completed validating state <finish>
>   信息: Terminating all background operations
>   信息: Terminated all background operations
>   信息: Successfully executed the flow in SILENT mode
>   信息: Finding the most appropriate exit status for the current application
>   信息: Exit Status is 0
>   信息: Shutdown Oracle Database 11g 发行版 2 安装程序
>   信息: Unloading Setup Driver
>   #ctrl+c退出日志的实时监控
>   #接着需要以root用户运行以下两个脚本
>   [oracle@yangzk-01 database]$ su - root
>   密码：
>   上一次登录：六 11月 16 21:09:52 CST 2019从 192.168.96.1pts/1 上
>   最后一次失败的登录：六 11月 16 22:18:43 CST 2019pts/0 上
>   最有一次成功登录后有 1 次失败的登录尝试。
>   [root@yangzk-01 ~]# cd /u01/database/
>   [root@yangzk-01 database]# /u01/oracle/oraInventory/orainstRoot.sh
>   更改权限/u01/oracle/oraInventory.
>   添加组的读取和写入权限。
>   删除全局的读取, 写入和执行权限。
>   
>   更改组名/u01/oracle/oraInventory 到 oinstall.
>   脚本的执行已完成。
>   [root@yangzk-01 database]# /u01/oracle/product/11.2.0/db_1/root.sh
>   Check /u01/oracle/product/11.2.0/db_1/install/root_yangzk-01_2019-11-16_22-20-12.log for the output of root script
>   ```
>
> *  **安装监听** 
>
>   ```shell
>   #切换到oracle用户
>   [root@yangzk-01 database]# su - oracle
>   上一次登录：六 11月 16 21:04:35 CST 2019pts/0 上
>   #打开database
>   [oracle@yangzk-01 ~]$ cd /u01/database/
>   #安装应答
>   [oracle@yangzk-01 database]$ $ORACLE_HOME/bin/netca /silent /responseFile /u01/database/response/netca.rsp
>   
>   正在对命令行参数进行语法分析:
>   参数"silent" = true
>   参数"responsefile" = /u01/database/response/netca.rsp
>   完成对命令行参数进行语法分析。
>   Oracle Net Services 配置:
>   完成概要文件配置。
>   Oracle Net 监听程序启动:
>       正在运行监听程序控制: 
>         /u01/oracle/product/11.2.0/db_1/bin/lsnrctl start LISTENER
>       监听程序控制完成。
>       监听程序已成功启动。
>   监听程序配置完成。
>   成功完成 Oracle Net Services 配置。退出代码是0
>   #查看监听状态
>   [oracle@yangzk-01 database]$ lsnrctl status
>   
>   LSNRCTL for Linux: Version 11.2.0.1.0 - Production on 16-NOV-2019 22:27:27
>   
>   Copyright (c) 1991, 2009, Oracle.  All rights reserved.
>   
>   Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC1521)))
>   STATUS of the LISTENER
>   ------------------------
>   Alias                     LISTENER
>   Version                   TNSLSNR for Linux: Version 11.2.0.1.0 - Production
>   Start Date                16-NOV-2019 22:26:20
>   Uptime                    0 days 0 hr. 1 min. 6 sec
>   Trace Level               off
>   Security                  ON: Local OS Authentication
>   SNMP                      OFF
>   Listener Parameter File   /u01/oracle/product/11.2.0/db_1/network/admin/listener.ora
>   Listener Log File         /u01/oracle/diag/tnslsnr/yangzk-01/listener/alert/log.xml
>   Listening Endpoints Summary...
>     (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))
>     (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.96.102)(PORT=1521)))
>   The listener supports no services
>   The command completed successfully
>   
>   ```
>
>   PS:  如果监听没有启动，可以通过下列命令启动 
>
>   ​	` lsnrctl start ` : 启动监听
>
>   ​	`lsnrctl stop` : 关闭监听
>
>   ​	`lsnrctl status` : 查看监听状态
>
> *  **静默dbca建立数据库** 
>
>   ```shell
>   #打开response
>   [oracle@yangzk-01 response]$ cd /u01/database/response/
>   #编辑dbca.rsp文件
>   [oracle@yangzk-01 response]$ vim dbca.rsp
>   #进入编辑模式之后 输入:set nu命令是文件显示行数,（如果前面命令报错：E486: 找不到模式: set nu！也可以用以下命令进行搜素） /GDBNAME(输入要搜索的关键字) 回车 
>   GDBNAME = "orcl.yangzk-01" #全局数据库名字 sid+hostname 注意有两个GDBNAME需要配置
>   SID = "orcl" #配置数据库实例
>   SYSPASSWORD = "oracle" 
>   SYSTEMPASSWORD = "oracle"
>   SYSMANPASSWORD = "oracle"
>   DBSNMPPASSWORD = "oracle"
>   DATAFILEDESTINATION =/u01/oracle/oradata
>   CHARACTERSET = "AL32UTF8" #415行，编码
>   NATIONALCHARACTERSET= "UTF8" #425行
>   #编辑完成后esc :wq! 保存退出
>   #回到database目录下
>   [oracle@yangzk-01 response]$ cd ..
>   #开始安装，输入的SYS,SYSTEM口令自己定义，是SYS,SYSTEM用户的登陆密码，之后登陆该用户需要用到
>   [oracle@yangzk-01 dbca]$ $ORACLE_HOME/bin/dbca -silent -responseFile /u01/database/response/dbca.rsp
>   复制数据库文件
>   1% 已完成
>   3% 已完成
>   11% 已完成
>   18% 已完成
>   26% 已完成
>   37% 已完成
>   正在创建并启动 Oracle 实例
>   40% 已完成
>   45% 已完成
>   50% 已完成
>   55% 已完成
>   56% 已完成
>   60% 已完成
>   62% 已完成
>   正在进行数据库创建
>   66% 已完成
>   70% 已完成
>   73% 已完成
>   85% 已完成
>   96% 已完成
>   100% 已完成
>   有关详细信息, 请参阅日志文件 "/u01/oracle/cfgtoollogs/dbca/orcl/orcl.log"。
>   #安装完成后一般自动启动数据库，如果没有输入下列命令启动数据库
>   [oracle@yangzk-01 dbca]$ sqlplus  / as sysdba
>   
>   SQL*Plus: Release 11.2.0.1.0 Production on Sun Nov 17 00:35:23 2019
>   
>   Copyright (c) 1982, 2009, Oracle.  All rights reserved.
>   
>   
>   Connected to:
>   Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
>   With the Partitioning, OLAP, Data Mining and Real Application Testing options
>   
>   SQL> startup #启动数据库
>   SQL> quit #退出
>   ```
>
>   PS: 到此整个数据库安装成功了, 以上是按照别人博客安装的，但是window还无法连接改数据库，下列问题列出遇到的问题以及解决 

#### 四、安装及连接遇到的问题解决

> *  **ORA-12170:TNS:连接超时** 
>
>   * 检查Linux系统的防火墙是否关闭,或者数据库端口是否开放 
>
>     ```shell
>     #开放1521端口使外机可以访问
>     [root@yangzk-01 ~]# firewall-cmd --zone=public --add-port=1521/tcp --permanent
>     success
>     [root@yangzk-01 ~]#  firewall-cmd --reload 
>     success
>     ```
>
> *  **ORA-12514 TNS 监听程序当前无法识别连接描述符中请求服务** 
>
>   ```shell
>   #切换 oracle 用户
>   [root@yangzk-01 ~]#  su - oracle 
>   #打开文件夹
>   [oracle@yangzk-01 ~]# cd /u01/oracle/product/11.2.0/db_1/network/admin
>   [oracle@yangzk-01 admin]# ls
>   listener.ora  samples  shrept.lst  sqlnet.ora  tnsnames.ora
>   #修改listener.ora文件
>   [root@yangzk-01 admin]# vim listener.ora
>   # listener.ora Network Configuration File: /u01/oracle/product/11.2.0/db_1/network/admin/listener.ora
>   # Generated by Oracle configuration tools.
>   #修改前配置
>       LISTENER =
>         (DESCRIPTION_LIST =
>           (DESCRIPTION =
>             (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC1521))
>             (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.96.102)(PORT = 1521))
>           )
>         )
>   
>       ADR_BASE_LISTENER = /u01/oracle
>   #修改后配置
>       SID_LIST_LISTENER =
>         (SID_LIST =
>           (SID_DESC =
>             (GLOBAL_DBNAME = orcl)
>             (ORACLE_HOME = /u01/oracle/product/11.2.0/db_1)
>             (SID_NAME = orcl)
>           )
>         )
>   
>       LISTENER =
>         (DESCRIPTION_LIST =
>           (DESCRIPTION =
>             (ADDRESS = (PROTOCOL = IPC)(KEY = orcl))
>             (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.96.102)(PORT = 1521))
>           )
>         )
>   
>       ADR_BASE_LISTENER = /u01/oracle
>   
>   
>   #修改 tnsnames.ora
>   [root@yangzk-01 admin]# vim tnsnames.ora
>   # tnsnames.ora Network Configuration File: /u01/oracle/product/11.2.0/db_1/network/admin/tnsnames.ora
>   # Generated by Oracle configuration tools.
>   #修改前配置
>       ORCL =
>         (DESCRIPTION =
>           (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.96.102)(PORT = 1521))
>           (CONNECT_DATA =
>             (SERVER = DEDICATED)
>             (SERVICE_NAME = orcl.yangzk-01)
>           )
>         )
>   #修改后配置
>       ORCL =
>         (DESCRIPTION =
>           (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.96.102)(PORT = 1521))
>           (CONNECT_DATA =
>             (SERVER = DEDICATED)
>             (SID = orcl)
>           )
>         )
>    #关闭监听服务，有时候关闭不了，提示没有权限操作监听服务，解决方法下一个问题
>   [oracle@yangzk-01 dbca]$ lsnrctl stop 
>   
>   LSNRCTL for Linux: Version 11.2.0.1.0 - Production on 17-NOV-2019 01:20:11
>   
>   Copyright (c) 1991, 2009, Oracle.  All rights reserved.
>   
>   Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=orcl)))
>   TNS-12541: TNS:no listener
>    TNS-12560: TNS:protocol adapter error
>     TNS-00511: No listener
>      Linux Error: 2: No such file or directory
>   Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=192.168.96.102)(PORT=1521)))
>   The command completed successfully
>   
>   
>   #开启监听服务
>   [oracle@yangzk-01 admin]$ lsnrctl start
>   
>   LSNRCTL for Linux: Version 11.2.0.1.0 - Production on 17-NOV-2019 01:22:32
>   
>   Copyright (c) 1991, 2009, Oracle.  All rights reserved.
>   
>   Starting /u01/oracle/product/11.2.0/db_1/bin/tnslsnr: please wait...
>   
>   TNSLSNR for Linux: Version 11.2.0.1.0 - Production
>   System parameter file is /u01/oracle/product/11.2.0/db_1/network/admin/listener.ora
>   Log messages written to /u01/oracle/diag/tnslsnr/yangzk-01/listener/alert/log.xml
>   Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=orcl)))
>   Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.96.102)(PORT=1521)))
>   
>   Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=orcl)))
>   STATUS of the LISTENER
>   ------------------------
>   Alias                     LISTENER
>   Version                   TNSLSNR for Linux: Version 11.2.0.1.0 - Production
>   Start Date                17-NOV-2019 01:22:32
>   Uptime                    0 days 0 hr. 0 min. 0 sec
>   Trace Level               off
>   Security                  ON: Local OS Authentication
>   SNMP                      OFF
>   Listener Parameter File   /u01/oracle/product/11.2.0/db_1/network/admin/listener.ora
>   Listener Log File         /u01/oracle/diag/tnslsnr/yangzk-01/listener/alert/log.xml
>   Listening Endpoints Summary...
>     (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=orcl)))
>     (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.96.102)(PORT=1521)))
>   Services Summary...
>   Service "orcl" has 1 instance(s).
>     Instance "orcl", status UNKNOWN, has 1 handler(s) for this service...
>   The command completed successfully
>   #登入Oracle数据库
>   [oracle@yangzk-01 admin]$ sqlplus / as sysdba
>   
>   SQL*Plus: Release 11.2.0.1.0 Production on Sun Nov 17 01:24:49 2019
>   
>   Copyright (c) 1982, 2009, Oracle.  All rights reserved.
>   
>   
>   Connected to:
>   Oracle Database 11g Enterprise Edition Release 11.2.0.1.0 - 64bit Production
>   With the Partitioning, OLAP, Data Mining and Real Application Testing options
>   
>   #立即关闭数据库服务
>   SQL> shutdown immediate
>   Database closed.
>   Database dismounted.
>   ORACLE instance shut down.
>   
>   #开启数据库服务
>   SQL> startup
>   ORACLE instance started.
>   
>   Total System Global Area  759943168 bytes
>   Fixed Size		    2217224 bytes
>   Variable Size		  448793336 bytes
>   Database Buffers	  301989888 bytes
>   Redo Buffers		    6942720 bytes
>   Database mounted.
>   Database opened.
>   
>   #注册
>   SQL> alter system register;
>   
>   System altered.
>   
>   ```
>
>    PS：此时时我们的oracle数据库外部client就可以访问了
>
> *  **TNS-01190: The user is not authorized to execute the requested listener command** 
>
>   ​	 在执行lsnrctl stop 命令时，提示没有权限操作监听服务，原因时当前用户不是启动监听的用户，切换到启动监听服务的用户下执行lsnrctl stop 命令就可以了，因为启动监听服务的用户拥有所有权，其他用户不能操作 
>
> *  **执行lsnrctl stop或者lsnrctl stop，提示lsnrctl: 未找到命令** 
>
>    切换到oracle用户的时候执行的是 su oracle，正确的是su - oracle 
>
> *  **ORA-01031: insufficient privileges** 
>
>    执行sqlplus / as sysdba命令时提示该错误，可以先先切换到别的用户环境下，再切换回来试试。 
>
> *  **本地window连接没有问题，但是其他人无法连接** 
>
>    检查以下是否能ping通，网络用桥接模式，不然别人ping不通，我用的是自定义NAT模式，导致只能本地连接，别人连接不了我虚拟机的数据库。
>
> *  **ora-01950:对表空间XXX无权限** 
>
>    在创建表的时候，插入数据提示无权限 
>
>   ```shell
>   #username 换成没有权限的用户
>   grant  resource to username
>   ```

#### 五、设置数据库自启动

> *  方法一 
>
>   1.  修改dbstart、dbshut文件 
>
>      ```shell
>      # $ORACLE_HOME/bin/dbshut是一样的，这里不重复了
>      [oracle@yangzk-01 ~]# vim $ORACLE_HOME/bin/dbstart
>      ORACLE_HOME_LISTNER=$1
>      修改为：
>      ORACLE_HOME_LISTNER=$ORACLE_HOME
>      ```
>
>   2.  修改/etc/oratab文件 
>
>      ```shell
>      #/u01/oracle/product/11.2.0/db_1/这个是自己安装路径，只需要将N改为Y
>      [oracle@yangzk-01 ~]# vim /etc/oratab
>      orcl:/u01/oracle/product/11.2.0/db_1/:N
>      修改为：
>      orcl:/u01/oracle/product/11.2.0/db_1/:Y
>      ```
>
>   3.  把lsnrctl start和dbstart添加到rc.local文件中 
>
>      ```shell
>      #将下面两句加入到rc.local文件中，路径换成自己的；oracle用户下如果没有权限可以切换到root用户
>      #切换为root用户
>      #[oracle@yangzk-01 ~]$ su - root
>      密码：
>      上一次登录：日 11月 17 01:33:53 CST 2019从 192.168.96.1pts/2 上
>      [root@yangzk-01 ~]# vim /etc/rc.d/rc.local
>      su - oracle -lc '/u01/oracle/product/11.2.0/db_1/bin/lsnrctl start'
>      su - oracle -lc '/u01/oracle/product/11.2.0/db_1/bin/dbstart'
>      ```
>
>   4.  添加执行权限 
>
>      ```shell
>      [root@yangzk-01 ~]# chmod +x /etc/rc.d/rc.local
>      ```
>
>   5.  重启系统，然后查看一下是否自启动成功!
>
> * 方法二：  (没有操作过，从参考文档摘过来的)
>
>   1.  改/etc/oratab文件 
>
>      ```shell
>      [oracle@yangzk-01 ~]# vi /etc/oratab
>          找到：    orcl:/u01/oracle/product/11.2.0/db_1:N   
>          修改为：  orcl:/u01/oracle/product/11.2.0/db_1:Y
>      ```
>
>   2.  新建Oracle服务自启动脚本 
>
>      ```shell
>       [oracle@yangzk-01 ~]# vi /etc/init.d/oracle
>       #将以下脚本复制到文件中，保存退出 
>       #!/bin/sh
>          # chkconfig: 2345 61 61
>          # description: Oracle 11g R2 AutoRun Servimces
>          # /etc/init.d/oracle
>          #
>          # Run-level Startup script for the Oracle Instance, Listener, and
>          # Web Interface
>          export ORACLE_BASE=/usr/oracle                                          #oracle安装位置
>          export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/db_1                     #Oracle安装路径
>          export ORACLE_SID=orcl
>          export PATH=$PATH:$ORACLE_HOME/bin
>          ORA_OWNR="oracle"
>          # if the executables do not exist -- display error
>          if [ ! -f $ORACLE_HOME/bin/dbstart -o ! -d $ORACLE_HOME ]
>          then
>          echo "Oracle startup: cannot start"
>          exit 1
>          fi
>          # depending on parameter -- startup, shutdown, restart
>          # of the instance and listener or usage display
>          case "$1" in
>          start)
>          # Oracle listener and instance startup
>          su $ORA_OWNR -lc $ORACLE_HOME/bin/dbstart
>          echo "Oracle Start Succesful!OK."
>          ;;
>          stop)
>          # Oracle listener and instance shutdown
>          su $ORA_OWNR -lc $ORACLE_HOME/bin/dbshut
>          echo "Oracle Stop Succesful!OK."
>          ;;
>          reload|restart)
>          $0 stop
>          $0 start
>          ;;
>          *)
>          echo $"Usage: `basename $0` {start|stop|reload|reload}"
>          exit 1
>          esac
>          exit 0
>      ```
>
>   3.  检查脚本能否执行 
>
>      ```shell
>      [root@yangzk-01 oracle]# /etc/init.d/oracle start            #启动oracle脚本
>      [root@yangzk-01 oracle]# /etc/init.d/oracle stop             #关闭oracle脚本
>      [root@yangzk-01 oracle]# /etc/init.d/oracle restart          #重启oracle脚本
>      ```
>
>   4.  添加执行权限并建立链接  
>
>      ```shell
>      #更改oracle脚本的执行权限
>      [root@yangzk-01 oracle]# chmod a+x /etc/init.d/oracle
>      #建立链接
>      #将启动脚本添加到系统服务并设置自启动
>      [root@yangzk-01 oracle]# chkconfig --add oracle
>      ```
>
>      PS: 当这个命令被执行的时候，会去脚本文件oracle中寻找# chkconfig: 2345 61 61这行注释，并解析这行注释，根据解析结果分别在
>
>      /etc/rc.d/rc2.d
>
>      /etc/rc.d/rc3.d
>
>      /etc/rc.d/rc4.d
>
>      /etc/rc.d/rc5.d
>
>      中创建符号连接文件S61oracle，此文件在系统启动时根据运行级别执行，此文件是指向/etc/init.d/oracle文件。启动时系统向此文件发送一个start参数，执行oracle文件中的start分支。另外还会在
>
>      /etc/rc.d/rc0.d
>
>      /etc/rc.d/rc1.d
>
>      /etc/rc.d/rc6.d
>
>      中创建符号连接文件K61oracle，此文件在系统关闭时执行，此文件也指向/etc/init.d/oracle文件，关闭时系统向此文件发送一个stop参数，执行oracle文件中的stop分支。
>
>       chkconfig: 2345 61 61 
>
>       表明脚本应该在运行级 2, 3, 4, 5 启动，启动优先权为61，停止优先权为 61。 
>
>      ```shell
>      # 修改服务运行等级(虽然脚本里写过，但还是重新设置一下)，可以自行设置oracle脚本的运行级别 
>      [root@yangzk-01 oracle]# chkconfig --level 2345 oracle on
>      
>      ```
>
>       说明：设置oracle脚本在运行级别为2、3、4、5时，都是on（开启）状态，off为关闭 
>
>      ```shell
>      #查看oracle自动启动设置
>      [root@yangzk-01 oracle]# chkconfig –list oracle
>          Oracle   0:off 1:off 2:on 3:on 4:on 5:on 6:off
>      
>      等级0表示：表示关机
>      等级1表示：单用户模式
>      等级2表示：无网络连接的多用户命令行模式
>      等级3表示：有网络连接的多用户命令行模式
>      等级4表示：不可用
>      等级5表示：带图形界面的多用户模式
>      等级6表示：重新启动
>      
>      
>      #手动创建符号链接文件（执行效果和执行chkconfig --add oracle是一样，作为知识笔记记录，可以不执行）
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc0.d/K61oracle
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc1.d/K61oracle
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc2.d/S61oracle
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc3.d/S61oracle
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc4.d/S61oracle
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc5.d/S61oracle
>       [root@yangzk-01 oracle]# ln –s /etc/rc.d/init.d/oracle /etc/rc6.d/K61oracle
>      ```
>
>   5.  oracle的启动或关闭管理 
>
>      ```shell
>      #启动
>      [root@localhost oracle]# service oracle start
>      #停止
>      [root@localhost oracle]# service oracle stop
>      #重启
>      [root@localhost oracle]# service oracle restart
>      ```

#### 六、数据库字符集修改

> 注意事项：修改字符集前先将数据库进行备份
>
> 此处演示将ZHS16GBK字符集修改为AL32UTF8
>
> 1. 修改server端字符集
>
> 	登录sqlpus查看字符集设置
>
> ```plsql
> [root@yangzk-01 ~]# su - oracle
> 上一次登录：日 11月 17 01:34:03 CST 2019pts/2 上
> [oracle@yangzk-01 ~]$ sqlplus /nolog
> 
> SQL*Plus: Release 11.2.0.1.0 Production on Sun Nov 17 01:58:33 2019
> 
> Copyright (c) 1982, 2009, Oracle.  All rights reserved.
> 
> SQL> conn /as sysdba
> Connected. --连接成功 
> Connected to an idle instance.    --数据库未启动，先启动数据库。最好将数据库设未开机启动
> SQL> startup
> ORA-01081: cannot start already-running ORACLE - shut it down first
> SQL> conn /as sysdba
> Connected.
> SQL> select userenv('language') from dual;   --server端字符集查询
> 
> USERENV('LANGUAGE')
> --------------------------------------------------------------------------------
> AMERICAN_AMERICA.ZHS16GBK
> 
> 依次执行如下命令 ：
> SQL>SHUTDOWN IMMEDIATE;
> SQL>STARTUP MOUNT;
> SQL>ALTER SYSTEM ENABLE RESTRICTED SESSION;
> SQL>ALTER SYSTEM SET JOB_QUEUE_PROCESSES=0;
> SQL>ALTER SYSTEM SET AQ_TM_PROCESSES=0;
> SQL>ALTER DATABASE OPEN;
> SQL>ALTER DATABASE CHARACTER SET INTERNAL_USE AL32UTF8;
> SQL>SHUTDOWN IMMEDIATE;
> SQL>STARTUP;
> 
> SQL> select userenv('language') from dual;
> USERENV('LANGUAGE')
> ----------------------------------------------------
> AMERICAN_AMERICA.AL32UTF8
> SQL> 
> ```
>
> 2.  修改client端字符集 
>
> 查看系统环境变量设置的字符集(client端字符集)  
>
> ```shell
> [oracle@yangzk-01 ~]$ cat /home/oracle/.bash_profile
> ...
> PATH=$PATH:$HOME/.local/bin:$HOME/bin
> export PATH
> 
> export ORACLE_BASE=/usr/oracle
> export ORACLE_HOME=$ORACLE_BASE/product/11.2.0/db_1
> export ORACLE_SID=orcl
> export ORACLE_TERM=xterm
> export PATH=$ORACLE_HOME/bin:/usr/sbin:$PATH
> export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib
> export LANG=C
> export NLS_LANG=INTERNAL_USE AL32UTF8                #客户端字符集
> 
> #进入编辑界面，将ZHS16GBK改为AL32UTF8，保存退出
> [oracle@localhost ~]$ vim /home/oracle/.bash_profile
> #使配置生效
> [oracle@localhost ~]$ source /home/oracle/.bash_profil
> ```
>
> 

参考资料地址：  https://docs.oracle.com/cd/E11882_01/install.112/e47689/toc.htm

​							 https://blog.csdn.net/qq_24058757/article/details/88170905 

​							 https://www.linuxidc.com/Linux/2018-09/154204.htm

## 4. 润乾报表安装

> 1. 下载润乾报表linux安装包
>
>    官方下载地址： http://c.raqsoft.com.cn/article/1571154681084 
>
>    官方安装教程地址：http://c.raqsoft.com.cn/article/1534920732462 
>
>    官方无图形化接面部署方法： http://c.raqsoft.com.cn/article/1542616598621 
>
>    一般使用的url 的路径拼写方式为 ：
>    		http://Ip:端口/demo/reportJsp/showReport.jsp?rpx=报表名称.rpx 
>    	    报表保存路径为 web-inf /reportFiles

## 5. MySql数据库安装

> ### 一、  MySQL版本号：5.7.28 
>
> > 1. 下载yum repository 
> >
> >    ```shell
> >     wget -i -c http://dev.mysql.com/get/mysql57-community-release-el7-10.noarch.rpm
> >    ```
> >    
> >    2.  安装
> >    
> >       ```shell
> >       yum -y install mysql57-community-release-el7-10.noarch.rpm
> >       ```
> >    
> >    3.  安装MySQL服务器 
> >    
> >       ```shell
> >       yum -y install mysql-community-server
> >       ```
> >    
> >    4.  启动MySQL 
> >    
> >       ```shell
> >       systemctl start  mysqld.service
> >       ```
> >
> > 5.  查看运行状态 
> >
> >      ```shell
> >     systemctl status mysqld.service
> >      ```
> >
> > 3. 获取安装时的临时密码（第一次登陆时就是使用这个密码）
> >
> >    ```shell
> >    grep 'temporary password' /var/log/mysqld.log
> >    ```
> >
> > 4. 如没有获取到临时密码，则
> >
> >    1. 删除原安装过的mysql残留的数据
> >
> >       ```shell
> >       rm -rf /var/lib/mysql
> >       ```
> >
> >    2. 再启动Mysql
> >
> >       ```shell
> >       systemctl start mysqld #启动MySQL
> >       ```
> >
> > 5. 登陆
> >
> >    ```shell
> >    mysql -u root -p
> >    #然后输入密码（刚刚获取的临时密码）
> >    ```
> >
> > 6. 若登录不了，则进行以下配置，跳过登录验证
> >
> >    ```shell
> >    #1. 重置密码的第一步就是跳过MySQL的密码认证过程，方法如下
> >    vim /etc/my.cnf
> >    #2. 在文档内mysqld段落处增加一行添加'skip-grant-tables'用来跳过密码验证的过程
> >    
> >    
> >    # For advice on how to change settings please see
> >    # http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html
> >    [mysqld]
> >    #
> >    # Remove leading # and set to the amount of RAM for the most important data
> >    # cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
> >    # innodb_buffer_pool_size = 128M
> >    #
> >    # Remove leading # to turn on a very important data integrity option: logging
> >    # changes to the binary log between backups.
> >    # log_bin
> >    #
> >    # Remove leading # to set options mainly useful for reporting servers.
> >    # The server defaults are faster for transactions and fast SELECTs.
> >    # Adjust sizes as needed, experiment to find the optimal values.
> >    # join_buffer_size = 128M
> >    # sort_buffer_size = 2M
> >    # read_rnd_buffer_size = 2M
> >    datadir=/var/lib/mysql
> >    socket=/var/lib/mysql/mysql.sock
> >    
> >    # Disabling symbolic-links is recommended to prevent assorted security risks
> >    symbolic-links=0
> >    
> >    log-error=/var/log/mysqld.log
> >    pid-file=/var/run/mysqld/mysqld.pid
> >    skip-grant-tables
> >    #Esc + :wq! 保存退出
> >    #3. 重启Mysql
> >    systemctl restart mysqld  #重新启动MySQL
> >    ```
> >
> > 7. 第六步完成后登陆mysql并修改密码
> >
> >    ```shell
> >    #1.登陆mysql
> >    mysql -u root -p
> >    回车进入mysql数据库
> >    #2.刷新
> >    mysql> flush privileges;
> >    Query OK, 0 rows affected (0.00 sec)
> >    #3.修改密码
> >    mysql> alter user 'root'@'localhost' identified by 'root';
> >    Query OK, 0 rows affected (0.00 sec)
> >    #4.再次刷新
> >    mysql> flush privileges;
> >    Query OK, 0 rows affected (0.00 sec)
> >    #5.退出
> >    mysql> exit;
> >    Bye
> >    ```
> >
> >    PS: **注意：一定要记得在写sql的时候要在语句完成后加上" ; "**
> >
> > 8. 开启远程控制
> >
> >    MySQL默认是没有开启远程控制的，必须添加远程访问的用户，即默认是只能自己访问，别的机器是访问不了的。
> >
> >      	  8.1、连接服务器: mysql -u root -p
> >
> >    　　8.2、看当前所有数据库：show databases;
> >
> >    　　8.3、进入mysql数据库：use mysql;
> >
> >    　　8.4、查看mysql数据库中所有的表：show tables;
> >
> >    　　8.5、查看user表中的数据：select Host, User,Password from user;
> >
> >    　　8.6、修改user表中的Host:   update user set Host='%' where User='root'; 
> >
> >    　　8.7、最后刷新一下：flush privileges;
> >
> >    PS: **说明： % 代表任意的客户端,可替换成具体IP地址。**
> >
> > 9. 其他配置
> >
> >    ```shell
> >    #1、设置安全选项：
> >    mysql_secure_installation
> >    #2、关闭MySQL
> >    systemctl stop mysqld 
> >    #3、重启MySQL
> >    systemctl restart mysqld 
> >    #4、查看MySQL运行状态
> >    systemctl status mysqld 
> >    #5、设置开机启动
> >    systemctl enable mysqld 
> >    #6、关闭开机启动
> >    systemctl disable mysqld 
> >    #7、配置默认编码为utf8：
> >    vi /etc/my.cnf #添加 [mysqld] character_set_server=utf8 init_connect='SET NAMES utf8'
> >    #其他默认配置文件路径： 
> >    #配置文件：/etc/my.cnf 日志文件：/var/log//var/log/mysqld.log 服务启动脚本：/usr/lib/systemd/system/mysqld.service socket文件：/var/run/mysqld/mysqld.pid
> >    #8、查看版本
> >    select version();
> >    ```
> >
> >    

## 6. 阿里云git安装

> 1. yum安装git依赖
>
> ```shell
> yum install curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker
> ```
>
> 2. 下载git安装包
>
> ```shell
> wget https://github.com/git/git/archive/v2.3.0.zip
> ```
>
> 3. 解压git
>
> ```shell
> #yum 安装 unzip及zip指令
> yum install -y unzip zip
> #安装成功后就可以使用unzip命令了
> cd /opt
> mkdir soft/git
> #参数-d 后边的是解压到的目录 
> unzip v2.3.0 -d /opt/soft/git
> #配置git环境变量 编辑profile
> vim /etc/profile
> export PATH=/opt/soft/git/git-2.3.0:$PATH
> #使环境生效
> source /etc/profile
> #检验git安装版本
> git --version
> ```
>
> 4. git常见错误
>
>    > PS: 执行 ssh-keygen -t rsa -C 'yanhzk@163.com' 命令报错Bad escape character 'ygen'.
>    >
>    > * 原因一：可能是因为ssh-keygen之间没有空格，可能是操作原因多出一个空格所以才会报错
>    >
>    >   * 解决办法：去掉空格
>    >
>    > * 愿意二: 可能是因为之前生成过的公钥出的问题
>    >
>    >   * 解决办法:
>    >
>    >     1. 直接在git的命令行窗口输入：`git remote remove origin` 
>    >
>    >     2. 把.ssh文件删掉，怎么删呢？就是先ssh-add -D然后rm -r ~/.ssh就OK了
>    >
>    >        `ssh-add -D` :  删除*ssh*-agent中的所有密钥 
>    >
>    >        `rm -r ~/.ssh` : 删除.ssh文件夹
>    >
>    >     3. 重新创建.ssh 生成密钥 直接ssh-keygen -t rsa -C “邮箱”,一路回车。这里注意ssh-keygen命令中间没有空格，如果在ssh后面加上空格，会得到Bad escape character ‘ygen’.的错误。
>    >
>    >        `ssh-keygen -t rsa -C 'yanhzk@163.com'` : 创建.ssh 生成密钥
>    >
>    >     4. 这一步就比较关键了。首先删除github网页里的ssh，在setting下的SSH and GPG keys下删除ssh 
>    >
>    >        ![image-20191126150345398](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191126150345398.png)
>    >
>    >         然后就是输入新的ssh，新建一个。标题随意，key的话 
>    >
>    >        ![image-20191126150524703](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191126150524703.png)
>    >
>    >         进入上面圈红的路径，打开那个id_rsa.pub文件，然后全部复制到key即可 
>    >
>    >     5.  到此配置就已经完成了，使用以下命令测试连接终端
>    >
>    >        ` ssh -T git@github.com ` 
>    >
>    >        ```shell
>    >        #连接github终端
>    >        [root@iZ2ze06mxhbe3pjnzmva8oZ .ssh]# ssh -T git@github.com
>    >        The authenticity of host 'github.com (52.74.223.119)' can't be established.
>    >        RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.
>    >        RSA key fingerprint is MD5:16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.
>    >        Are you sure you want to continue connecting (yes/no)? yes
>    >        Warning: Permanently added 'github.com,52.74.223.119' (RSA) to the list of known hosts.
>    >        #连接成功
>    >        Hi yangzk2! You've successfully authenticated, but GitHub does not provide shell access.
>    >        
>    >        ```
>    >
>    
> 5. 总结：
>
>    > 1. 安装参考上述过程
>    >
>    > 2. 配置
>    >
>    >    1. `git config --list ` :查看配置信息
>    >
>    >    2. `git config --global user.name 'yangzhongkun'` : 配置username信息
>    >
>    >    3. `git config --global user.email 'yangzhongkun@bdxc.com'` :配置邮箱号
>    >
>    >    4. `ssh-keygen -t rsa -C 'yangzhongkun@bdxc.com'` : 生成sshkey密钥
>    >
>    >    5. 把本地的~/.ssh/xxx.pub文件内容全部copy配置到远端的ssh-key里面,详情如下图：
>    >
>    >       ![image-20191202201956186](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202201956186.png)
>    >
>    >       ![image-20191202202034292](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202202034292.png)
>    >
>    > 3. 常用命令
>    >
>    >    1. 下载远端的代码
>    >
>    >       1. git clone  https://github.com/2227324689/gpmall.git
>    >
>    >    2. 创建自己的远端项目
>    >
>    >       1. 去 github创建项目
>    >
>    >    3. 修改
>    >
>    >       1. git status 查看当前状态
>    >
>    >       2. git add 文件名
>    >
>    >       3. git commit -m ’原因‘
>    >
>    >       4. git push origin master 将文件push到远端master分支
>    >
>    >       5. 拉取远程修改
>    >
>    >          1. git  pull origin master 
>    >
>    >       6. 获取远程分支状态
>    >
>    >          1. git fetch  
>    >
>    >       7. 对分支操作
>    >
>    >          1. git branch 查看本地有哪些分支
>    >          2. git branch -D 删除本地分支
>    >          3. git branch -a 查看包含远程的分支
>    >
>    >       8. 查看远端分支
>    >
>    >          1. git remote -v 
>    >
>    >       9. 合并分支
>    >
>    >          1. git marge 分支名
>    >          2. git rebase 分支名
>    >          3. git add 文件名
>    >          4. git commit -m '原因'
>    >
>    >       10. git checkout
>    >
>    >           1. git checkout branchName 切换分支 
>    >
>    >           2. git checkout fileName 还原更改 
>    >
>    >              >  PS:  . 为通配符代表全部的意思
>    >
>    >       11. 查看变更内容
>    >
>    >           1. git diff 查看变更内容
>    >           2. git diff --stat 查看变更文件次数
>    >
>    >    4. 提升、经验
>    >
>    >       1. git flow
>    >       2. git tag  每次合master之前一定要打个tag
>    >       3. .gitignore
>    >          1. git rm --cached **/文件名 使配置在.gitignore文件里面的文件生效并删除

## 7. Maven安装配置

> 1. 优势
>
>    ​	a)    约定优于配置
>
>    ​	b)    简单
>
>    ​	c)    测试支持
>
>    ​	d)    构建简单
>
>    ​	e)    CI
>
>    ​	f)   插件丰富
>
> 2. 下载
>
>    1. ​    下载地址  https://maven.apache.org/download.cgi  
>
> 3. 安装
>
>    1. 解压文件即可使用
>
> 4. 配置setting.xml
>
>    ```xml
>    <mirror>  
>    		  <id>alimaven</id>  
>    		  <name>aliyun maven</name>  
>    		  <url>http://maven.aliyun.com/nexus/content/groups/public/</url>  
>    		  <mirrorOf>central</mirrorOf>          
>    		</mirror> 
>    		<mirror>
>    			<id>ui</id>
>    			<mirrorOf>central</mirrorOf>
>    			<name>Human Readable Name for this Mirror.</name>
>    			<url>http://uk.maven.org/maven2/</url>
>    		</mirror>
>    		<mirror>
>                <id>osc</id>
>                <mirrorOf>central</mirrorOf>
>                <url>http://maven.oschina.net/content/groups/public/</url>
>            </mirror>
>            <mirror>
>                <id>osc_thirdparty</id>
>                <mirrorOf>thirdparty</mirrorOf>
>                <url>http://maven.oschina.net/content/repositories/thirdparty/</url>
>            </mirror>
>    
>    ```
>
> 5. 版本管理
>
>    ​	  a) 1.0.0-SNAPSHOT
>    ​        i. repository 删除
>    ​        ii. mvn clean package -U(强制拉一次)
>    ​      b) 主版本号.次版本号.增量版本号-<里程碑版本>
>
> 6. 常用命令：
>
>    ​      a) compile 编译
>    ​      b) clean  删除target/
>    ​      c) test  test case junit/testNG
>    ​      d) package 打包
>    ​      e) install 把项目install 到local repo
>    ​      f) deploy  发本地 jar 发布到 remote
>
> 7. 插件
>
>    	1. 常用插件：
>              i. https://maven.apache.org/plugins/
>              ii. http://www.mojohaus.org/plugins.html
>              iii. findbugs 静态代码检查
>              iv. versions 统一升级版本号
>         
>     2. 自定义插件：https://maven.apache.org/guides/plugin/guide-java-plugin-development.html
>                a) <packaging>maven-plugin</packaging>
>                b) extends AbstractMojo
>                c) mvn install
>                e) paramter 参数传递
>                Profile
>                a) 使用场景 dev/test/pro
>                b) setting.xml profile切换
>             仓库：
>              a) 下载
>              b) 安装
>              c) 官方使用: http://books.sonatype.com/nexus-book.reference3/index.html
>                i. 访问: http://ip:8081/nexus
>                ii. 登陆: admin/admin123
>              d) 发布:
>                i. pom.xml文件配置
>
>        ```xml
>          <distributionManagement>
>                      <repository>
>                        <id>nexus-releases</id>
>                        <name>Nexus Release Repository</name>
>                        <url>http://localhost:8081/nexus/content/repositories/releases</url>
>                      </repository>
>                      <snapshotRepository>
>                        <id>nexus-snapshots</id>
>                        <name>Nexus Snapshot Repository</name>
>                        <url>http://localhost:8081/nexus/content/repositories/snapshots</url>
>                      </snapshotRepository>
>                    </distributionManagement>
>                ii. setting.xml文件配置
>                    <servers>
>                        <server>
>                          <id>nexus-releases</id>
>                          <username>admin</username>
>                          <password>admin123</password>
>                        </server>
>                        <server>
>                          <id>nexus-snapshots</id>
>                          <username>admin</username>
>                          <password>admin123</password>
>                        </server>
>                     </servers>
>        ```
>
>        
>
>        ​        iii. 发布 mvn deploy
>        ​      e) 下载jar配置 两种方式
>        ​         i. 配置mirror
>        ​         ii. 配置profile
>
>               1. mvn versions:set -DnewVersion=1.1
>                  v. source 打包源代码
>                  vi. assembly 打包 war包、jar包、zip包
>                  vii. tomcat
>
>    3. archetype 模板化
>
>       a) 项目根目录执行命令:mvn archetype:create-from-project
>              b) cd target/generated-sources/archetype/
>              c) mvn install
>              d) 从模板创建项目 mvn archetype:generate -DarchetypeCatalog=local
>
> 8. 总结：
>
>    1. dependecnyManagement dependences 
>
>       1. 可以当成一个工具箱，因为只能出现在父pom
>       2. 统一指定版本号
>       3. 声明后子pom用到在直接引用
>
>    2. `mvn dependency:tree > test.txt` : 生成maven树文件
>
>    3. dependency 
>
>       1. Type 默认jar  
>
>       2. scope 设置什么时候可以访问
>
>          1. compile 编译 例如 spring-core 
>
>          2. test 测试
>
>          3.  provided 编译  例如 servlet 
>
>          4.  runtime 运行时 例如JDBC驱动实现  
>
>          5.  system 本地一些jar 例如短信jar  
>
>          6.  依赖传递  ：
>
>             1. 第一列表示直接依赖的scope，第一行表示间接依赖的scope  
>
>             |          | compile  | test | provided | runtime  |
>             | -------- | -------- | ---- | -------- | -------- |
>             | compile  | compile  | -    | -        | runtime  |
>             | test     | test     | -    | -        | test     |
>             | provided | provided | -    | provided | provided |
>             | runtime  | runtime  | -    | -        | runtime  |
>
>          7.  依赖仲裁  
>
>              i.     最短路径原则
>
>              ii.     加载先后原则
>
>          8.  exclusions  
>
>             1. 排除包  
>
>                ![image-20191202213742642](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202213742642.png)
>
>          9. lefecycle phase goal
>
>             ![image-20191202214016708](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202214016708.png)
>
>             ![image-20191202213956736](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202213956736.png)
>
>             ![image-20191202214807800](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202214807800.png)
>
>          10. 常用命令
>
>              a)    compile
>
>              b)    clean  删除target/
>
>              c)    test    test case junit/testNG
>
>              d)    package 打包
>
>              e)    install  把项目install到local repo
>
>               f） deploy  发本地jar发布到remote  
>
>               g)   profile
>
>              ​		mvn package -P dev
>
>          11.  插件  
>
>               i.     https://maven.apache.org/plugins/ 
>
>              ​     ii.     http://www.mojohaus.org/plugins.html 
>
>                 iii.     findbugs 静态代码检查
>
>              ​    iv.     versions 统一升级版本号
>
>              1. mvn versions:set -DnewVersion=1.1
>
>              ​     v.     source 打包源代码
>
>              ​    vi.     assembly 打包zip、war
>
>                vii.     tomcat7
>
>              2. 自定义插件 https://maven.apache.org/guides/plugin/guide-java-plugin-development.html
>
>              a)  <packaging>maven-plugin</packaging>
>
>              b)  extends AbstractMojo
>
>              c)     ![image-20191202214632019](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202214632019.png)                             
>
>              d)  mvn install
>
>              e)  参数传递
>
>              3. Profile
>
>              a)  使用场景 dev/test/pro
>
>              b)  setting.xml 家和公司两套
>
>              4. 仓库
>
>              a)  下载
>
>              b)  安装 解压
>
>              c)  使用http://books.sonatype.com/nexus-book/reference3/index.html 
>
>              ​       i.     http://192.168.1.6:8081/nexus
>
>              ​       ii.     admin/admin123
>
>              d)  发布
>
>              ​       i.     pom.xml 配置 
>
>              1. ![image-20191202214651658](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202214651658.png)
>
>              2. ![image-20191202214701296](C:\Users\Lenovo\AppData\Roaming\Typora\typora-user-images\image-20191202214701296.png)
>
>              e)  下载jar配置
>
>              ​       i.     配置mirror
>
>              ​       ii.     Profile
>
>              5. archetype  模版化
>
>              a)  生成一个archetype
>
>              ​       i.     mvn archetype:create-from-project
>
>              ​       ii.     cd /target/generated-sources/archetype
>
>              ​      iii.     mvn install
>
>              从archetype 
>



### Centos7防火墙配置

~~~shell
CentOS 7.0默认使用的是firewall作为防火墙，使用iptables必须重新设置一下

1、直接关闭防火墙
systemctl stop firewalld.service           #停止firewall
systemctl disable firewalld.service        #禁止firewall开机启动
2、开启端口
    firewall-cmd --zone=public --add-port=1521/tcp --permanent  #开启端口
    firewall-cmd --reload  #重启防火墙 （一般我们在开放完新的端口后，需要重新启动防火墙）
	#命令含义：
		#zone #作用域
		#add-port=80/tcp #添加端口，格式为：端口/通讯协议
		#permanent #永久生效，没有此参数重启后失效

3、常用命令
    firewall-cmd –state ##查看防火墙状态，是否是running
    firewall-cmd –reload ##重新载入配置，比如添加规则之后，需要执行此命令
    firewall-cmd –get-zones ##列出支持的zone
    firewall-cmd –get-services ##列出支持的服务，在列表中的服务是放行的
    firewall-cmd –query-service ftp ##查看ftp服务是否支持，返回yes或者no
    firewall-cmd –add-service=ftp ##临时开放ftp服务
    firewall-cmd –add-service=ftp –permanent ##永久开放ftp服务
    firewall-cmd –remove-service=ftp –permanent ##永久移除ftp服务
    firewall-cmd –add-port=80/tcp –permanent ##永久添加80端口
    iptables -L -n ##查看规则，这个命令是和iptables的相同的
    man firewall-cmd ##查看帮助
4、设置 iptables service
	yum -y install iptables-services
5. 如果要修改防火墙配置，如增加防火墙端口3306
    	vi /etc/sysconfig/iptables 
    增加规则
        -A RH-Firewall-1-INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT
        -A INPUT -m state --state NEW -m tcp -p tcp --dport 1521 -j ACCEPT
    保存退出后	
    
        systemctl restart firewalld  #重启防火墙使配置生效
        systemctl enable firewalld  #设置防火墙开机启动
~~~

> PS: 参考资料地址 : https://blog.csdn.net/junehappylove/article/details/73863431 